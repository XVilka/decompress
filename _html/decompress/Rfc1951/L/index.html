<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>L (decompress.Rfc1951.L)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">decompress</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Rfc1951.L</span></h1></header><div class="doc"><p>Lz77 algorithm.</p><p>A functionnal non-blocking implementation of Lz77 algorithm. This algorithm
produces a <code class="code">Hunk.t list</code> of an input.</p><p>This algorithm is the same as <a href="blosclz">https://github.com/Blosc/c-blosc</a>.
So the implementation is an imperative hack in OCaml. May be it's not the
best in the functionnal world but it works. The interface was thinked to be
replaced by your implemenation by a functor.</p><p>The functor was not done now but may be soonly. So, TODO!</p></div><div class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>error</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-error.Invalid_level" class="anchored"><td class="def constructor"><a href="#type-error.Invalid_level" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Invalid_level</span><span class="keyword"> of </span>int</code></td><td class="doc"><p>(** This error appears when you try to compute the Lz77 algorithm with
a wrong level (<code class="code">level &gt;= 0 &amp;&amp; level &lt;= 9</code>). *)</p></td></tr><tr id="type-error.Invalid_wbits" class="anchored"><td class="def constructor"><a href="#type-error.Invalid_wbits" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Invalid_wbits</span><span class="keyword"> of </span>int</code></td><td class="doc"><p>(** This error appears when you specify a bad wbits: <code class="code">wbits &gt;= 8 &amp;&amp;
            wbits &lt;= 15</code> *)</p></td></tr></table><code></code></div><div class="doc"><p>Lz77 error.</p></div></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'i t</code><code></code><code></code></div><div class="doc"><p>The state of the Lz77 algorithm.</p></div></div><div class="spec val" id="val-pp_error"><a href="#val-pp_error" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_error : Stdlib.Format.formatter <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-error">error</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Pretty-printer of Lz77 error.</p></div></div><div class="spec val" id="val-pp"><a href="#val-pp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp : Stdlib.Format.formatter <span class="keyword">&#8209;&gt;</span> <span class="type-var">'i</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Pretty-printer of Lz77 state.</p></div></div><div class="spec val" id="val-used_in"><a href="#val-used_in" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>used_in : <span class="type-var">'i</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">used_in t</code> returns <code class="code">n</code> bytes(s) used by the algorithm in the current
input.</p></div></div><div class="spec val" id="val-default"><a href="#val-default" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>default : witness:<span class="type-var">'i</span> <a href="../B/index.html#type-t">B.t</a> <span class="keyword">&#8209;&gt;</span> ?&#8288;level:int <span class="keyword">&#8209;&gt;</span> ?&#8288;on:(<a href="../Hunk/index.html#type-t">Hunk.t</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <span class="type-var">'i</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">default ~level ~on wbits</code> produces a new state to compute the Lz77
algorithm in an input. <code class="code">level</code> means the level of the compression
(between 0 and 9), <code class="code">on</code> is a function called when the algorithm produce
one <code class="code">Hunk.t</code> and <code class="code">wbits</code> is the window size allowed.</p><p>Usually, <code class="code">wbits = 15</code> for a window of 32K. If <code class="code">wbits</code> is lower, you
constraint the distance of a <code class="code">Match</code> produced by the Lz77 algorithm to
the window size.</p><p><code class="code">on</code> is a function to interact fastly with your data-structure and keep
the frequencies of the <code class="code">Literal</code> and <code class="code">Match</code>.</p></div></div></body></html>